[
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "jsonify",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Blueprint",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "jsonify",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "current_app",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "Blueprint",
        "importPath": "flask",
        "description": "flask",
        "isExtraImport": true,
        "detail": "flask",
        "documentation": {}
    },
    {
        "label": "redis",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "redis",
        "description": "redis",
        "detail": "redis",
        "documentation": {}
    },
    {
        "label": "psycopg",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "psycopg",
        "description": "psycopg",
        "detail": "psycopg",
        "documentation": {}
    },
    {
        "label": "pytest",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "pytest",
        "description": "pytest",
        "detail": "pytest",
        "documentation": {}
    },
    {
        "label": "create_app",
        "importPath": "app",
        "description": "app",
        "isExtraImport": true,
        "detail": "app",
        "documentation": {}
    },
    {
        "label": "create_app",
        "importPath": "app",
        "description": "app",
        "isExtraImport": true,
        "detail": "app",
        "documentation": {}
    },
    {
        "label": "db",
        "importPath": "app.extensions",
        "description": "app.extensions",
        "isExtraImport": true,
        "detail": "app.extensions",
        "documentation": {}
    },
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "SQLAlchemy",
        "importPath": "flask_sqlalchemy",
        "description": "flask_sqlalchemy",
        "isExtraImport": true,
        "detail": "flask_sqlalchemy",
        "documentation": {}
    },
    {
        "label": "Marshmallow",
        "importPath": "flask_marshmallow",
        "description": "flask_marshmallow",
        "isExtraImport": true,
        "detail": "flask_marshmallow",
        "documentation": {}
    },
    {
        "label": "Migrate",
        "importPath": "flask_migrate",
        "description": "flask_migrate",
        "isExtraImport": true,
        "detail": "flask_migrate",
        "documentation": {}
    },
    {
        "label": "get_redis",
        "kind": 2,
        "importPath": "app.routes.health_routes",
        "description": "app.routes.health_routes",
        "peekOfCode": "def get_redis():\n    url = os.environ.get(\"REDIS_URL\", \"redis://localhost:6379/0\")\n    return redis.Redis.from_url(url, decode_responses=True)\ndef get_db_conn():\n    dsn = os.environ.get(\"DATABASE_URL\", \"postgresql://postgres:postgres@localhost:5432/appdb\")\n    return psycopg.connect(dsn, autocommit=True)\n@bp.get(\"/health\")\ndef health():\n    return jsonify({\"ok\": True})\n@bp.get(\"/ping-redis\")",
        "detail": "app.routes.health_routes",
        "documentation": {}
    },
    {
        "label": "get_db_conn",
        "kind": 2,
        "importPath": "app.routes.health_routes",
        "description": "app.routes.health_routes",
        "peekOfCode": "def get_db_conn():\n    dsn = os.environ.get(\"DATABASE_URL\", \"postgresql://postgres:postgres@localhost:5432/appdb\")\n    return psycopg.connect(dsn, autocommit=True)\n@bp.get(\"/health\")\ndef health():\n    return jsonify({\"ok\": True})\n@bp.get(\"/ping-redis\")\ndef ping_redis():\n    r = get_redis()\n    r.set(\"hello\", \"world\", ex=30)",
        "detail": "app.routes.health_routes",
        "documentation": {}
    },
    {
        "label": "health",
        "kind": 2,
        "importPath": "app.routes.health_routes",
        "description": "app.routes.health_routes",
        "peekOfCode": "def health():\n    return jsonify({\"ok\": True})\n@bp.get(\"/ping-redis\")\ndef ping_redis():\n    r = get_redis()\n    r.set(\"hello\", \"world\", ex=30)\n    return jsonify({\"redis\": r.get(\"hello\")})\n@bp.get(\"/db-version\")\ndef db_version():\n    try:",
        "detail": "app.routes.health_routes",
        "documentation": {}
    },
    {
        "label": "ping_redis",
        "kind": 2,
        "importPath": "app.routes.health_routes",
        "description": "app.routes.health_routes",
        "peekOfCode": "def ping_redis():\n    r = get_redis()\n    r.set(\"hello\", \"world\", ex=30)\n    return jsonify({\"redis\": r.get(\"hello\")})\n@bp.get(\"/db-version\")\ndef db_version():\n    try:\n        with get_db_conn() as conn:\n            with conn.cursor() as cur:\n                cur.execute(\"SELECT version()\")",
        "detail": "app.routes.health_routes",
        "documentation": {}
    },
    {
        "label": "db_version",
        "kind": 2,
        "importPath": "app.routes.health_routes",
        "description": "app.routes.health_routes",
        "peekOfCode": "def db_version():\n    try:\n        with get_db_conn() as conn:\n            with conn.cursor() as cur:\n                cur.execute(\"SELECT version()\")\n                row = cur.fetchone()\n                return jsonify({\"postgres_version\": row[0]})\n    except Exception as e:\n        return jsonify({\"error\": str(e)}), 500",
        "detail": "app.routes.health_routes",
        "documentation": {}
    },
    {
        "label": "bp",
        "kind": 5,
        "importPath": "app.routes.health_routes",
        "description": "app.routes.health_routes",
        "peekOfCode": "bp = Blueprint(\"health\", __name__)\ndef get_redis():\n    url = os.environ.get(\"REDIS_URL\", \"redis://localhost:6379/0\")\n    return redis.Redis.from_url(url, decode_responses=True)\ndef get_db_conn():\n    dsn = os.environ.get(\"DATABASE_URL\", \"postgresql://postgres:postgres@localhost:5432/appdb\")\n    return psycopg.connect(dsn, autocommit=True)\n@bp.get(\"/health\")\ndef health():\n    return jsonify({\"ok\": True})",
        "detail": "app.routes.health_routes",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 2,
        "importPath": "app.tests.conftest",
        "description": "app.tests.conftest",
        "peekOfCode": "def app():\n    os.environ[\"DATABASE_URL\"] = \"postgresql+psycopg://postgres:postgres@localhost:5432/appdb_test\"\n    app = create_app()\n    with app.app_context():\n        _db.drop_all()\n        _db.create_all()\n    yield app\n@pytest.fixture()\ndef client(app):\n    return app.test_client()",
        "detail": "app.tests.conftest",
        "documentation": {}
    },
    {
        "label": "client",
        "kind": 2,
        "importPath": "app.tests.conftest",
        "description": "app.tests.conftest",
        "peekOfCode": "def client(app):\n    return app.test_client()",
        "detail": "app.tests.conftest",
        "documentation": {}
    },
    {
        "label": "client",
        "kind": 2,
        "importPath": "app.tests.test_health",
        "description": "app.tests.test_health",
        "peekOfCode": "def client():\n    app = create_app()\n    app.config.update(TESTING=True)\n    with app.test_client() as client:\n        yield client\ndef test_health(client):\n    rv = client.get('/api/health')\n    assert rv.status_code == 200\n    data = rv.get_json()\n    assert isinstance(data, dict)",
        "detail": "app.tests.test_health",
        "documentation": {}
    },
    {
        "label": "test_health",
        "kind": 2,
        "importPath": "app.tests.test_health",
        "description": "app.tests.test_health",
        "peekOfCode": "def test_health(client):\n    rv = client.get('/api/health')\n    assert rv.status_code == 200\n    data = rv.get_json()\n    assert isinstance(data, dict)\n    assert data.get('ok') is True\n@pytest.mark.integration\ndef test_ping_redis_integration(client):\n    # This test will pass if Redis is reachable (dev compose up), otherwise it gets skipped\n    if not os.environ.get(\"REDIS_URL\"):",
        "detail": "app.tests.test_health",
        "documentation": {}
    },
    {
        "label": "test_ping_redis_integration",
        "kind": 2,
        "importPath": "app.tests.test_health",
        "description": "app.tests.test_health",
        "peekOfCode": "def test_ping_redis_integration(client):\n    # This test will pass if Redis is reachable (dev compose up), otherwise it gets skipped\n    if not os.environ.get(\"REDIS_URL\"):\n        pytest.skip(\"REDIS_URL not set; skipping integration test\")\n    rv = client.get('/api/ping-redis')\n    assert rv.status_code == 200\n    data = rv.get_json()\n    assert 'redis' in data\n@pytest.mark.integration\ndef test_db_version_integration(client):",
        "detail": "app.tests.test_health",
        "documentation": {}
    },
    {
        "label": "test_db_version_integration",
        "kind": 2,
        "importPath": "app.tests.test_health",
        "description": "app.tests.test_health",
        "peekOfCode": "def test_db_version_integration(client):\n    if not os.environ.get(\"DATABASE_URL\") and not os.environ.get(\"POSTGRES_USER\"):\n        pytest.skip(\"DB env not set; skipping integration test\")\n    rv = client.get('/api/db-version')\n    assert rv.status_code == 200\n    data = rv.get_json()\n    assert 'postgres_version' in data or 'error' in data",
        "detail": "app.tests.test_health",
        "documentation": {}
    },
    {
        "label": "init_redis",
        "kind": 2,
        "importPath": "app.extensions",
        "description": "app.extensions",
        "peekOfCode": "def init_redis(app):\n    return redis.from_url(app.config[\"REDIS_URL\"], decode_responses=True)",
        "detail": "app.extensions",
        "documentation": {}
    },
    {
        "label": "db",
        "kind": 5,
        "importPath": "app.extensions",
        "description": "app.extensions",
        "peekOfCode": "db = SQLAlchemy()\nma = Marshmallow()\nmigrate = Migrate()\ndef init_redis(app):\n    return redis.from_url(app.config[\"REDIS_URL\"], decode_responses=True)",
        "detail": "app.extensions",
        "documentation": {}
    },
    {
        "label": "ma",
        "kind": 5,
        "importPath": "app.extensions",
        "description": "app.extensions",
        "peekOfCode": "ma = Marshmallow()\nmigrate = Migrate()\ndef init_redis(app):\n    return redis.from_url(app.config[\"REDIS_URL\"], decode_responses=True)",
        "detail": "app.extensions",
        "documentation": {}
    },
    {
        "label": "migrate",
        "kind": 5,
        "importPath": "app.extensions",
        "description": "app.extensions",
        "peekOfCode": "migrate = Migrate()\ndef init_redis(app):\n    return redis.from_url(app.config[\"REDIS_URL\"], decode_responses=True)",
        "detail": "app.extensions",
        "documentation": {}
    },
    {
        "label": "get_redis",
        "kind": 2,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "def get_redis():\n    url = os.environ.get(\"REDIS_URL\", \"redis://localhost:6379/0\")\n    return redis.Redis.from_url(url, decode_responses=True)\ndef get_db_conn():\n    dsn = os.environ.get(\"DATABASE_URL\", \"postgresql://postgres:postgres@localhost:5432/appdb\")\n    return psycopg.connect(dsn, autocommit=True)\n@bp.get(\"/health\")\ndef health():\n    return jsonify({\"ok\": True})\n@bp.get(\"/ping-redis\")",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "get_db_conn",
        "kind": 2,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "def get_db_conn():\n    dsn = os.environ.get(\"DATABASE_URL\", \"postgresql://postgres:postgres@localhost:5432/appdb\")\n    return psycopg.connect(dsn, autocommit=True)\n@bp.get(\"/health\")\ndef health():\n    return jsonify({\"ok\": True})\n@bp.get(\"/ping-redis\")\ndef ping_redis():\n    r = get_redis()\n    r.set(\"hello\", \"world\", ex=30)",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "health",
        "kind": 2,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "def health():\n    return jsonify({\"ok\": True})\n@bp.get(\"/ping-redis\")\ndef ping_redis():\n    r = get_redis()\n    r.set(\"hello\", \"world\", ex=30)\n    return jsonify({\"redis\": r.get(\"hello\")})\n@bp.get(\"/db-version\")\ndef db_version():\n    try:",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "ping_redis",
        "kind": 2,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "def ping_redis():\n    r = get_redis()\n    r.set(\"hello\", \"world\", ex=30)\n    return jsonify({\"redis\": r.get(\"hello\")})\n@bp.get(\"/db-version\")\ndef db_version():\n    try:\n        with get_db_conn() as conn:\n            with conn.cursor() as cur:\n                cur.execute(\"SELECT version()\")",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "db_version",
        "kind": 2,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "def db_version():\n    try:\n        with get_db_conn() as conn:\n            with conn.cursor() as cur:\n                cur.execute(\"SELECT version()\")\n                row = cur.fetchone()\n                return jsonify({\"postgres_version\": row[0]})\n    except Exception as e:\n        return jsonify({\"error\": str(e)}), 500\ndef register_routes(app):",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "register_routes",
        "kind": 2,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "def register_routes(app):\n    app.register_blueprint(bp, url_prefix=\"/api\")",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "bp",
        "kind": 5,
        "importPath": "app.routes",
        "description": "app.routes",
        "peekOfCode": "bp = Blueprint(\"api\", __name__)\ndef get_redis():\n    url = os.environ.get(\"REDIS_URL\", \"redis://localhost:6379/0\")\n    return redis.Redis.from_url(url, decode_responses=True)\ndef get_db_conn():\n    dsn = os.environ.get(\"DATABASE_URL\", \"postgresql://postgres:postgres@localhost:5432/appdb\")\n    return psycopg.connect(dsn, autocommit=True)\n@bp.get(\"/health\")\ndef health():\n    return jsonify({\"ok\": True})",
        "detail": "app.routes",
        "documentation": {}
    },
    {
        "label": "app",
        "kind": 5,
        "importPath": "app.wsgi",
        "description": "app.wsgi",
        "peekOfCode": "app = create_app()\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\", port=8000)",
        "detail": "app.wsgi",
        "documentation": {}
    },
    {
        "label": "bind",
        "kind": 5,
        "importPath": "docker.gunicorn_conf",
        "description": "docker.gunicorn_conf",
        "peekOfCode": "bind = \"0.0.0.0:8000\"\nworkers = 2\nworker_class = \"sync\"\ntimeout = 60\ngraceful_timeout = 30\nloglevel = \"info\"",
        "detail": "docker.gunicorn_conf",
        "documentation": {}
    },
    {
        "label": "workers",
        "kind": 5,
        "importPath": "docker.gunicorn_conf",
        "description": "docker.gunicorn_conf",
        "peekOfCode": "workers = 2\nworker_class = \"sync\"\ntimeout = 60\ngraceful_timeout = 30\nloglevel = \"info\"",
        "detail": "docker.gunicorn_conf",
        "documentation": {}
    },
    {
        "label": "worker_class",
        "kind": 5,
        "importPath": "docker.gunicorn_conf",
        "description": "docker.gunicorn_conf",
        "peekOfCode": "worker_class = \"sync\"\ntimeout = 60\ngraceful_timeout = 30\nloglevel = \"info\"",
        "detail": "docker.gunicorn_conf",
        "documentation": {}
    },
    {
        "label": "timeout",
        "kind": 5,
        "importPath": "docker.gunicorn_conf",
        "description": "docker.gunicorn_conf",
        "peekOfCode": "timeout = 60\ngraceful_timeout = 30\nloglevel = \"info\"",
        "detail": "docker.gunicorn_conf",
        "documentation": {}
    },
    {
        "label": "graceful_timeout",
        "kind": 5,
        "importPath": "docker.gunicorn_conf",
        "description": "docker.gunicorn_conf",
        "peekOfCode": "graceful_timeout = 30\nloglevel = \"info\"",
        "detail": "docker.gunicorn_conf",
        "documentation": {}
    },
    {
        "label": "loglevel",
        "kind": 5,
        "importPath": "docker.gunicorn_conf",
        "description": "docker.gunicorn_conf",
        "peekOfCode": "loglevel = \"info\"",
        "detail": "docker.gunicorn_conf",
        "documentation": {}
    }
]